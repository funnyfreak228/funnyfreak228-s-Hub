--- // Open-Source Blox Fruits Script \\ ---
--- // Check the github for more information: https://github.com/funnyfreak228/funnyfreak228-s-Hub \\ ---

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()
local VirtualUser = game:GetService("VirtualUser")
local RunService = game:GetService("RunService")

local Window = Fluent:CreateWindow({
    Title = "funnyfreak228's Hub | BETA 1.0.7",
    SubTitle = "by @RealFreakxNil",
    TabWidth = 160,
    Size = UDim2.fromOffset(480, 380),
    Acrylic = false, 
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.LeftControl
})

Fluent:Notify({
    Title = "Loaded",
    Content = "funnyfreak228's Hub has loaded successfully.",
    Duration = 5
})

local RS = game:GetService("ReplicatedStorage")
local LP = game:GetService("Players").LocalPlayer

_G.UIElements = {} 
local errorCount = 0
local startTime = tick()
local CurrentTween = nil 
local tableBoss = {}

_G.Settings = {
    Main = {["Auto Farm"] = false, ["Auto Farm Boss"] = false, ["Auto Farm All Bosses"] = false, ["Select Boss"] = "None", ["Select Weapon"] = "Melee", ["Chest Farm"] = false, ["Chest Farm Mode"] = "Tween"},
    Combat = {["Kill Aura"] = false, ["Aura Range"] = 60, ["Aura Target"] = "All"},
    Setting = {["Tween Speed"] = 300, ["Farm Distance"] = 35, ["Auto Haki"] = true, ["Bring Mob"] = true, ["Bring Mob Range"] = 300},
    Stats = {["Enabled"] = false, ["Select Stat"] = "Melee"}
}

LP.CharacterAdded:Connect(function(character)
    character:WaitForChild("Humanoid")
    wait(1) 
end)

local function topos(Pos)
    if not _G.Settings.Main["Auto Farm"] and not _G.Settings.Main["Chest Farm"] and not _G.Settings.Main["Auto Farm Boss"] and not _G.Settings.Main["Auto Farm All Bosses"] then
        if CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
        return
    end
    
    local Character = LP.Character or LP.CharacterAdded:Wait()
    local RootPart = Character:WaitForChild("HumanoidRootPart")
    local Distance = (Pos.Position - RootPart.Position).Magnitude
    
    if Distance > 10 then
        local Time = Distance / _G.Settings.Setting["Tween Speed"]
        CurrentTween = game:GetService("TweenService"):Create(RootPart, TweenInfo.new(Time, Enum.EasingStyle.Linear), {CFrame = Pos})
        CurrentTween:Play()
        
        local start = tick()
        repeat 
            task.wait()
            if not _G.Settings.Main["Auto Farm"] and not _G.Settings.Main["Chest Farm"] and not _G.Settings.Main["Auto Farm Boss"] and not _G.Settings.Main["Auto Farm All Bosses"] then
                CurrentTween:Cancel()
                CurrentTween = nil
                return
            end
        until (Pos.Position - RootPart.Position).Magnitude < 12 
        or (tick() - start) > (Time + 0.5)
        or not RootPart.Parent 
        
        CurrentTween = nil
    else
        RootPart.CFrame = Pos
    end
end

local ChestBlacklist = {}
local BlacklistDuration = 5

local function IsChestBlacklisted(chest)
    if ChestBlacklist[chest] then
        if tick() - ChestBlacklist[chest] < BlacklistDuration then
            return true
        else
            ChestBlacklist[chest] = nil
            return false
        end
    end
    return false
end

local function BlacklistChest(chest)
    ChestBlacklist[chest] = tick()
end

local function GetNearestChest()
    if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
        return nil
    end
    
    local NearestChest = nil
    local NearestDistance = math.huge
    local MyPosition = LP.Character.HumanoidRootPart.Position
    
    for i, v in pairs(game.Workspace:GetChildren()) do
        if (v.Name == "Chest1" or v.Name == "Chest2" or v.Name == "Chest3") and not IsChestBlacklisted(v) then
            local ChestPosition = v.Position
            local Distance = (ChestPosition - MyPosition).Magnitude
            
            if Distance < NearestDistance then
                NearestDistance = Distance
                NearestChest = v
            end
        end
    end
    
    if game.Workspace:FindFirstChild("ChestModels") then
        for i, v in pairs(game.Workspace.ChestModels:GetChildren()) do
            if string.find(v.Name, "Chest") and not IsChestBlacklisted(v) then
                local ChestCFrame = v:FindFirstChild("RootPart") and v.RootPart.Position or v:FindFirstChild("Root") and v.Root.Position or v:GetModelCFrame().Position
                local Distance = (ChestCFrame - MyPosition).Magnitude
                
                if Distance < NearestDistance then
                    NearestDistance = Distance
                    NearestChest = v
                end
            end
        end
    end
    
    return NearestChest
end

local function TweenToChest(ChestCFrame)
    if not _G.Settings.Main["Chest Farm"] then
        if CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
        return
    end
    
    if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
        return
    end
    
    local Distance = (ChestCFrame.Position - LP.Character.HumanoidRootPart.Position).Magnitude
    
    if Distance > 5 then
        local Time = Distance / _G.Settings.Setting["Tween Speed"]
        CurrentTween = game:GetService("TweenService"):Create(
            LP.Character.HumanoidRootPart,
            TweenInfo.new(Time, Enum.EasingStyle.Linear),
            {CFrame = ChestCFrame}
        )
        CurrentTween:Play()
        CurrentTween.Completed:Wait()
        CurrentTween = nil
    else
        LP.Character.HumanoidRootPart.CFrame = ChestCFrame
    end
end

local function DamageUnit(Target)
    pcall(function()
        RS.Modules.Net["RE/RegisterAttack"]:FireServer(0)
        RS.Modules.Net["RE/RegisterAttack"]:FireServer(1)
        RS.Modules.Net["RE/RegisterAttack"]:FireServer(2)
        RS.Modules.Net["RE/RegisterAttack"]:FireServer(3)
        RS.Modules.Net["RE/RegisterAttack"]:FireServer(4)
        RS.Modules.Net["RE/RegisterHit"]:FireServer(Target.HumanoidRootPart, {})
    end)
end

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local Client = Players.LocalPlayer

local RegisterAttack = ReplicatedStorage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterAttack")
local RegisterHit = ReplicatedStorage:WaitForChild("Modules"):WaitForChild("Net"):WaitForChild("RE/RegisterHit")
local enemyFolder = Workspace:WaitForChild("Enemies")

local range = _G.Settings.Combat["Aura Range"]

function Attack()
    local targetData = {nil, {}}

    for _, Enemy in pairs(enemyFolder:GetChildren()) do
        local hrp = Enemy:FindFirstChild("HumanoidRootPart")
        local hum = Enemy:FindFirstChild("Humanoid")

        if hrp and hum and hum.Health > 0 then
            if Client:DistanceFromCharacter(hrp.Position) < range then
                if not targetData[1] then
                    targetData[1] = hrp
                end
                
                table.insert(targetData[2], {
                    [1] = Enemy,
                    [2] = hrp
                })
            end
        end
    end

    if targetData[1] then
        RegisterAttack:FireServer(0)
        RegisterAttack:FireServer(1)
        RegisterAttack:FireServer(2)
        RegisterAttack:FireServer(3)
        RegisterHit:FireServer(targetData[1], targetData[2])
    end
end

function CheckQuest()
    MyLevel = LP.Data.Level.Value
    if game.PlaceId == 2753915549 then
        if MyLevel == 1 or MyLevel <= 9 then
            Mon = "Bandit"
            LevelQuest = 1
            NameQuest = "BanditQuest1"
            CFrameQuest = CFrame.new(1059, 15, 1550)
            CFrameMon = CFrame.new(1145, 17, 1634)
        elseif MyLevel == 10 or MyLevel <= 14 then
            Mon = "Monkey"
            LevelQuest = 1
            NameQuest = "JungleQuest"
            CFrameQuest = CFrame.new(-1598, 35, 153)
            CFrameMon = CFrame.new(-1623, 37, 147)
        elseif MyLevel == 15 or MyLevel <= 29 then
            Mon = "Gorilla"
            LevelQuest = 2
            NameQuest = "JungleQuest"
            CFrameQuest = CFrame.new(-1598, 35, 153)
            CFrameMon = CFrame.new(-1204, 51, -496)
        elseif MyLevel == 30 or MyLevel <= 39 then
            Mon = "Pirate"
            LevelQuest = 1
            NameQuest = "BuggyQuest1"
            CFrameQuest = CFrame.new(-1141, 4, 3831)
            CFrameMon = CFrame.new(-1200, 20, 3915)
        elseif MyLevel == 40 or MyLevel <= 59 then
            Mon = "Brute"
            LevelQuest = 2
            NameQuest = "BuggyQuest1"
            CFrameQuest = CFrame.new(-1141, 4, 3831)
            CFrameMon = CFrame.new(-1374, 24, 4195)
        elseif MyLevel == 60 or MyLevel <= 74 then
            Mon = "Desert Bandit"
            LevelQuest = 1
            NameQuest = "DesertQuest"
            CFrameQuest = CFrame.new(894, 5, 4392)
            CFrameMon = CFrame.new(1012, 16, 4471)
        elseif MyLevel == 75 or MyLevel <= 89 then
            Mon = "Desert Officer"
            LevelQuest = 2
            NameQuest = "DesertQuest"
            CFrameQuest = CFrame.new(894, 5, 4392)
            CFrameMon = CFrame.new(1542, 14, 4421)
        elseif MyLevel == 90 or MyLevel <= 119 then
            Mon = "Snow Bandit"
            LevelQuest = 1
            NameQuest = "SnowQuest"
            CFrameQuest = CFrame.new(1389, 88, -1298)
            CFrameMon = CFrame.new(1289, 105, -1342)
        elseif MyLevel == 120 or MyLevel <= 149 then
            Mon = "Chief Petty Officer"
            LevelQuest = 1
            NameQuest = "MarineQuest2"
            CFrameQuest = CFrame.new(-5039, 27, 4324)
            CFrameMon = CFrame.new(-4810, 22, 4359)
        elseif MyLevel == 150 or MyLevel <= 174 then
            Mon = "Sky Bandit"
            LevelQuest = 1
            NameQuest = "SkyQuest"
            CFrameQuest = CFrame.new(-4839, 717, -2622)
            CFrameMon = CFrame.new(-4954.932, 296.004, -2900.711)
        elseif MyLevel == 175 or MyLevel <= 189 then
            Mon = "Dark Master"
            LevelQuest = 2
            NameQuest = "SkyQuest"
            CFrameQuest = CFrame.new(-4839, 717, -2622)
            CFrameMon = CFrame.new(-5259, 391, -2229)
        elseif MyLevel == 190 or MyLevel <= 209 then
            Mon = "Prisoner"
            LevelQuest = 1
            NameQuest = "PrisonerQuest"
            CFrameQuest = CFrame.new(5308, 1, 475)
            CFrameMon = CFrame.new(5098, -0, 474)
        elseif MyLevel == 210 or MyLevel <= 249 then
            Mon = "Dangerous Prisoner"
            LevelQuest = 2
            NameQuest = "PrisonerQuest"
            CFrameQuest = CFrame.new(5308, 1, 475)
            CFrameMon = CFrame.new(5654, 15, 866)
        elseif MyLevel == 250 or MyLevel <= 274 then
            Mon = "Toga Warrior"
            LevelQuest = 1
            NameQuest = "ColosseumQuest"
            CFrameQuest = CFrame.new(-1580, 6, -2986)
            CFrameMon = CFrame.new(-1820, 51, -2740)
        elseif MyLevel == 275 or MyLevel <= 299 then
            Mon = "Gladiator"
            LevelQuest = 2
            NameQuest = "ColosseumQuest"
            CFrameQuest = CFrame.new(-1580, 6, -2986)
            CFrameMon = CFrame.new(-1292, 56, -3339)
        elseif MyLevel == 300 or MyLevel <= 324 then
            Mon = "Military Soldier"
            LevelQuest = 1
            NameQuest = "MagmaQuest"
            CFrameQuest = CFrame.new(-5313, 10, 8515)
            CFrameMon = CFrame.new(-5411, 11, 8454)
        elseif MyLevel == 325 or MyLevel <= 374 then
            Mon = "Military Spy"
            LevelQuest = 2
            NameQuest = "MagmaQuest"
            CFrameQuest = CFrame.new(-5313, 10, 8515)
            CFrameMon = CFrame.new(-5802, 86, 8828)
        elseif MyLevel == 375 or MyLevel <= 399 then
            Mon = "Fishman Warrior"
            LevelQuest = 1
            NameQuest = "FishmanQuest"
            CFrameQuest = CFrame.new(61122, 18, 1569)
            CFrameMon = CFrame.new(60878, 18, 1543)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
			(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(61163.8515625, 11.6796875, 1819.7841796875))
			end
        elseif MyLevel == 400 or MyLevel <= 449 then
            Mon = "Fishman Commando"
            LevelQuest = 2
            NameQuest = "FishmanQuest"
            CFrameQuest = CFrame.new(61122, 18, 1569)
            CFrameMon = CFrame.new(61922, 18, 1493)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(61163.8515625, 11.6796875, 1819.7841796875))
			end
        elseif MyLevel == 450 or MyLevel <= 474 then
            Mon = "God's Guard"
            LevelQuest = 1
            NameQuest = "SkyExp1Quest"
            CFrameQuest = CFrame.new(-4721, 843, -1949)
            CFrameMon = CFrame.new(-4710, 845, -1927)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-4607.82275, 872.54248, -1667.55688))
			end
        elseif MyLevel == 475 or MyLevel <= 524 then
            Mon = "Shanda"
            LevelQuest = 2
            NameQuest = "SkyExp1Quest"
            CFrameQuest = CFrame.new(-7859, 5544, -381)
            CFrameMon = CFrame.new(-7678, 5566, -497)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
		    (game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-4607.82275, 872.54248, -1667.55688))
			end
        elseif MyLevel == 525 or MyLevel <= 549 then
            Mon = "Royal Squad"
            LevelQuest = 1
            NameQuest = "SkyExp2Quest"
            CFrameQuest = CFrame.new(-7906, 5634, -1411)
            CFrameMon = CFrame.new(-7624, 5658, -1467)
             if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
			(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-4607.82275, 872.54248, -1667.55688))
			end
        elseif MyLevel == 550 or MyLevel <= 624 then
            Mon = "Royal Soldier"
            LevelQuest = 2
            NameQuest = "SkyExp2Quest"
            CFrameQuest = CFrame.new(-7906, 5634, -1411)
            CFrameMon = CFrame.new(-7836, 5645, -1790)
             if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10 then
			(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(-4607.82275, 872.54248, -1667.55688))
			end
        elseif MyLevel == 625 or MyLevel <= 649 then
            Mon = "Galley Pirate"
            LevelQuest = 1
            NameQuest = "FountainQuest"
            CFrameQuest = CFrame.new(5259, 37, 4050)
            CFrameMon = CFrame.new(5551, 78, 3930)
        elseif MyLevel >= 650 then
            Mon = "Galley Captain"
            LevelQuest = 2
            NameQuest = "FountainQuest"
            CFrameQuest = CFrame.new(5259, 37, 4050)
            CFrameMon = CFrame.new(5441, 42, 4950)
        end
    elseif game.PlaceId == 79091703265657 then
        if MyLevel == 700 or MyLevel <= 724 then
            Mon = "Raider"
            LevelQuest = 1
            NameQuest = "Area1Quest"
            CFrameQuest = CFrame.new(-429, 71, 1836)
            CFrameMon = CFrame.new(-728, 52, 2345)
        elseif MyLevel == 725 or MyLevel <= 774 then
            Mon = "Mercenary"
            LevelQuest = 2
            NameQuest = "Area1Quest"
            CFrameQuest = CFrame.new(-429, 71, 1836)
            CFrameMon = CFrame.new(-1004, 80, 1424)
        elseif MyLevel == 775 or MyLevel <= 799 then
            Mon = "Swan Pirate"
            LevelQuest = 1
            NameQuest = "Area2Quest"
            CFrameQuest = CFrame.new(638, 71, 918)
            CFrameMon = CFrame.new(1068, 137, 1322)
        elseif MyLevel == 800 or MyLevel <= 874 then
            Mon = "Factory Staff"
            LevelQuest = 2
            NameQuest = "Area2Quest"
            CFrameQuest = CFrame.new(632, 73, 918)
            CFrameMon = CFrame.new(73, 81, -27)
        elseif MyLevel == 875 or MyLevel <= 899 then
            Mon = "Marine Lieutenant"
            LevelQuest = 1
            NameQuest = "MarineQuest3"
            CFrameQuest = CFrame.new(-2440, 71, -3216)
            CFrameMon = CFrame.new(-2821, 75, -3070)
        elseif MyLevel == 900 or MyLevel <= 949 then
            Mon = "Marine Captain"
            LevelQuest = 2
            NameQuest = "MarineQuest3"
            CFrameQuest = CFrame.new(-2440, 71, -3216)
            CFrameMon = CFrame.new(-1861, 80, -3254)
        elseif MyLevel == 950 or MyLevel <= 974 then
            Mon = "Zombie"
            LevelQuest = 1
            NameQuest = "ZombieQuest"
            CFrameQuest = CFrame.new(-5497, 47, -795)
            CFrameMon = CFrame.new(-5657, 78, -928)
        elseif MyLevel == 975 or MyLevel <= 999 then
            Mon = "Vampire"
            LevelQuest = 2
            NameQuest = "ZombieQuest"
            CFrameQuest = CFrame.new(-5497, 47, -795)
            CFrameMon = CFrame.new(-6037, 32, -1340)
        elseif MyLevel == 1000 or MyLevel <= 1049 then
            Mon = "Snow Trooper"
            LevelQuest = 1
            NameQuest = "SnowMountainQuest"
            CFrameQuest = CFrame.new(609, 400, -5372)
            CFrameMon = CFrame.new(549, 427, -5563)
        elseif MyLevel == 1050 or MyLevel <= 1099 then
            Mon = "Winter Warrior"
            LevelQuest = 2
            NameQuest = "SnowMountainQuest"
            CFrameQuest = CFrame.new(609, 400, -5372)
            CFrameMon = CFrame.new(1142, 475, -5199)
        elseif MyLevel == 1100 or MyLevel <= 1124 then
            Mon = "Lab Subordinate"
            LevelQuest = 1
            NameQuest = "IceSideQuest"
            CFrameQuest = CFrame.new(-6064, 15, -4902)
            CFrameMon = CFrame.new(-5707, 15, -4513)
        elseif MyLevel == 1125 or MyLevel <= 1174 then
            Mon = "Horned Warrior"
            LevelQuest = 2
            NameQuest = "IceSideQuest"
            CFrameQuest = CFrame.new(-6064, 15, -4902)
            CFrameMon = CFrame.new(-6341, 15, -5723)
        elseif MyLevel == 1175 or MyLevel <= 1199 then
            Mon = "Magma Ninja"
            LevelQuest = 1
            NameQuest = "FireSideQuest"
            CFrameQuest = CFrame.new(-5428, 15, -5299)
            CFrameMon = CFrame.new(-5449, 76, -5808)
        elseif MyLevel == 1200 or MyLevel <= 1249 then
            Mon = "Lava Pirate"
            LevelQuest = 2
            NameQuest = "FireSideQuest"
            CFrameQuest = CFrame.new(-5428, 15, -5299)
            CFrameMon = CFrame.new(-5213, 49, -4701)
        elseif MyLevel == 1250 or MyLevel <= 1274 then
            Mon = "Ship Deckhand"
            LevelQuest = 1
            NameQuest = "ShipQuest1"
            CFrameQuest = CFrame.new(1037, 125, 32911)
            CFrameMon = CFrame.new(1212, 150, 33059)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
			end
        elseif MyLevel == 1275 or MyLevel <= 1299 then
            Mon = "Ship Engineer"
            LevelQuest = 2
            NameQuest = "ShipQuest1"
            CFrameQuest = CFrame.new(1037, 125, 32911)
            CFrameMon = CFrame.new(919, 43, 32779)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
			end
        elseif MyLevel == 1300 or MyLevel <= 1324 then
            Mon = "Ship Steward"
            LevelQuest = 1
            NameQuest = "ShipQuest2"
            CFrameQuest = CFrame.new(968, 125, 33244)
            CFrameMon = CFrame.new(919, 129, 33436)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
			end
        elseif MyLevel == 1325 or MyLevel <= 1349 then
            Mon = "Ship Officer"
            LevelQuest = 2
            NameQuest = "ShipQuest2"
            CFrameQuest = CFrame.new(968, 125, 33244)
            CFrameMon = CFrame.new(1036, 181, 33315)
            if _G.Settings.Main["Auto Farm"] and (CFrameQuest.Position - game.Players.LocalPlayer.Character.HumanoidRootPart.Position).Magnitude > 10000 then
				(game:GetService("ReplicatedStorage")).Remotes.CommF_:InvokeServer("requestEntrance", Vector3.new(923.21252441406, 126.9760055542, 32852.83203125))
			end
        elseif MyLevel == 1350 or MyLevel <= 1374 then
            Mon = "Arctic Warrior"
            LevelQuest = 1
            NameQuest = "FrostQuest"
            CFrameQuest = CFrame.new(5667, 26, -6486)
            CFrameMon = CFrame.new(5966, 62, -6179)
        elseif MyLevel == 1375 or MyLevel <= 1424 then
            Mon = "Snow Lurker"
            LevelQuest = 2
            NameQuest = "FrostQuest"
            CFrameQuest = CFrame.new(5667, 26, -6486)
            CFrameMon = CFrame.new(5407, 69, -6880)
        elseif MyLevel == 1425 or MyLevel <= 1449 then
            Mon = "Sea Soldier"
            LevelQuest = 1
            NameQuest = "ForgottenQuest"
            CFrameQuest = CFrame.new(-3054, 235, -10142)
            CFrameMon = CFrame.new(-3028, 64, -9775)
        elseif MyLevel >= 1450 then
            Mon = "Water Fighter"
            LevelQuest = 2
            NameQuest = "ForgottenQuest"
            CFrameQuest = CFrame.new(-3054, 235, -10142)
            CFrameMon = CFrame.new(-3352, 285, -10534)
        end
    elseif game.PlaceId == 100117331123089 then
        if MyLevel == 1500 or MyLevel <= 1524 then
            Mon = "Pirate Millionaire"
            LevelQuest = 1
            NameQuest = "PiratePortQuest"
            CFrameQuest = CFrame.new(-449.328, 113.269, 5951.002)
            CFrameMon = CFrame.new(-132.582, 57.019, 5766.418)
        elseif MyLevel == 1525 or MyLevel <= 1574 then
            Mon = "Pistol Billionaire"
            LevelQuest = 2
            NameQuest = "PiratePortQuest"
            CFrameQuest = CFrame.new(-449.328, 113.269, 5951.002)
            CFrameMon = CFrame.new(-187, 86, 6013)
        elseif MyLevel == 1575 or MyLevel <= 1599 then
            Mon = "Dragon Crew Warrior"
            LevelQuest = 1
            NameQuest = "DragonCrewQuest"
            CFrameQuest = CFrame.new(6734.823, 127.422, -712.662)
            CFrameMon = CFrame.new(6755.372, 55.762, -957.516)
        elseif MyLevel == 1600 or MyLevel <= 1624 then
            Mon = "Dragon Crew Archer"
            LevelQuest = 2
            NameQuest = "DragonCrewQuest"
            CFrameQuest = CFrame.new(6734.823, 127.422, -712.662)
            CFrameMon = CFrame.new(6747.606, 484.410, 403.529)
        elseif MyLevel == 1625 or MyLevel <= 1649 then
            Mon = "Hydra Enforcer"
            LevelQuest = 1
            NameQuest = "VenomCrewQuest"
            CFrameQuest = CFrame.new(5214.237, 1008.037, 759.937)
            CFrameMon = CFrame.new(4550.063, 1002.280, 423.144)
        elseif MyLevel == 1650 or MyLevel <= 1699 then
            Mon = "Venomous Assailant"
            LevelQuest = 2
            NameQuest = "VenomCrewQuest"
            CFrameQuest = CFrame.new(5214.237, 1008.037, 759.937)
            CFrameMon = CFrame.new(4550.872, 1148.263, 871.252)
        elseif MyLevel == 1700 or MyLevel <= 1724 then
            Mon = "Marine Commodore"
            LevelQuest = 1
            NameQuest = "MarineTreeIsland"
            CFrameQuest = CFrame.new(2485.503, 78.829, -6788.413)
            CFrameMon = CFrame.new(2286, 73, -7159)
        elseif MyLevel == 1725 or MyLevel <= 1774 then
            Mon = "Marine Rear Admiral"
            LevelQuest = 2
            NameQuest = "MarineTreeIsland"
            CFrameQuest = CFrame.new(2485.503, 78.829, -6788.413)
            CFrameMon = CFrame.new(3656, 160, -7001)
        elseif MyLevel == 1775 or MyLevel <= 1799 then
            Mon = "Fishman Raider"
            LevelQuest = 1
            NameQuest = "DeepForestIsland3"
            CFrameQuest = CFrame.new(-10581, 330, -8761)
            CFrameMon = CFrame.new(-10407, 331, -8368)
        elseif MyLevel == 1800 or MyLevel <= 1824 then
            Mon = "Fishman Captain"
            LevelQuest = 2
            NameQuest = "DeepForestIsland3"
            CFrameQuest = CFrame.new(-10581, 330, -8761)
            CFrameMon = CFrame.new(-10994, 352, -9002)
        elseif MyLevel == 1825 or MyLevel <= 1849 then
            Mon = "Forest Pirate"
            LevelQuest = 1
            NameQuest = "DeepForestIsland"
            CFrameQuest = CFrame.new(-13234, 331, -7625)
            CFrameMon = CFrame.new(-13274, 332, -7769)
        elseif MyLevel == 1850 or MyLevel <= 1899 then
            Mon = "Mythological Pirate"
            LevelQuest = 2
            NameQuest = "DeepForestIsland"
            CFrameQuest = CFrame.new(-13234, 331, -7625)
            CFrameMon = CFrame.new(-13680, 501, -6991)
        elseif MyLevel == 1900 or MyLevel <= 1924 then
            Mon = "Jungle Pirate"
            LevelQuest = 1
            NameQuest = "DeepForestIsland2"
            CFrameQuest = CFrame.new(-12680, 389, -9902)
            CFrameMon = CFrame.new(-12256, 331, -10485)
        elseif MyLevel == 1925 or MyLevel <= 1974 then
            Mon = "Musketeer Pirate"
            LevelQuest = 2
            NameQuest = "DeepForestIsland2"
            CFrameQuest = CFrame.new(-12680, 389, -9902)
            CFrameMon = CFrame.new(-13457, 391, -9859)
        elseif MyLevel == 1975 or MyLevel <= 1999 then
            Mon = "Reborn Skeleton"
            LevelQuest = 1
            NameQuest = "HauntedQuest1"
            CFrameQuest = CFrame.new(-9479, 141, 5566)
            CFrameMon = CFrame.new(-8763, 165, 6159)
        elseif MyLevel == 2000 or MyLevel <= 2024 then
            Mon = "Living Zombie"
            LevelQuest = 2
            NameQuest = "HauntedQuest1"
            CFrameQuest = CFrame.new(-9479, 141, 5566)
            CFrameMon = CFrame.new(-10144, 138, 5838)
        elseif MyLevel == 2025 or MyLevel <= 2049 then
            Mon = "Demonic Soul"
            LevelQuest = 1
            NameQuest = "HauntedQuest2"
            CFrameQuest = CFrame.new(-9516, 172, 6078)
            CFrameMon = CFrame.new(-9505, 172, 6158)
        elseif MyLevel == 2050 or MyLevel <= 2074 then
            Mon = "Posessed Mummy"
            LevelQuest = 2
            NameQuest = "HauntedQuest2"
            CFrameQuest = CFrame.new(-9516, 172, 6078)
            CFrameMon = CFrame.new(-9582, 6, 6205)
        elseif MyLevel == 2075 or MyLevel <= 2099 then
            Mon = "Peanut Scout"
            LevelQuest = 1
            NameQuest = "NutsIslandQuest"
            CFrameQuest = CFrame.new(-2104, 38, -10194)
            CFrameMon = CFrame.new(-2143, 47, -10029)
        elseif MyLevel == 2100 or MyLevel <= 2124 then
            Mon = "Peanut President"
            LevelQuest = 2
            NameQuest = "NutsIslandQuest"
            CFrameQuest = CFrame.new(-2104, 38, -10194)
            CFrameMon = CFrame.new(-1859, 38, -10422)
        elseif MyLevel == 2125 or MyLevel <= 2149 then
            Mon = "Ice Cream Chef"
            LevelQuest = 1
            NameQuest = "IceCreamIslandQuest"
            CFrameQuest = CFrame.new(-820, 65, -10965)
            CFrameMon = CFrame.new(-872, 65, -10919)
        elseif MyLevel == 2150 or MyLevel <= 2199 then
            Mon = "Ice Cream Commander"
            LevelQuest = 2
            NameQuest = "IceCreamIslandQuest"
            CFrameQuest = CFrame.new(-820, 65, -10965)
            CFrameMon = CFrame.new(-558, 112, -11290)
        elseif MyLevel == 2200 or MyLevel <= 2224 then
            Mon = "Cookie Crafter"
            LevelQuest = 1
            NameQuest = "CakeQuest1"
            CFrameQuest = CFrame.new(-2021, 37, -12028)
            CFrameMon = CFrame.new(-2374, 37, -12125)
        elseif MyLevel == 2225 or MyLevel <= 2249 then
            Mon = "Cake Guard"
            LevelQuest = 2
            NameQuest = "CakeQuest1"
            CFrameQuest = CFrame.new(-2021, 37, -12028)
            CFrameMon = CFrame.new(-1598, 43, -12244)
        elseif MyLevel == 2250 or MyLevel <= 2274 then
            Mon = "Baking Staff"
            LevelQuest = 1
            NameQuest = "CakeQuest2"
            CFrameQuest = CFrame.new(-1927, 37, -12842)
            CFrameMon = CFrame.new(-1887, 77, -12998)
        elseif MyLevel == 2275 or MyLevel <= 2299 then
            Mon = "Head Baker"
            LevelQuest = 2
            NameQuest = "CakeQuest2"
            CFrameQuest = CFrame.new(-1927, 37, -12842)
            CFrameMon = CFrame.new(-2216, 82, -12869)
        elseif MyLevel == 2300 or MyLevel <= 2324 then
            Mon = "Cocoa Warrior"
            LevelQuest = 1
            NameQuest = "ChocQuest1"
            CFrameQuest = CFrame.new(233, 29, -12201)
            CFrameMon = CFrame.new(-21, 80, -12352)
        elseif MyLevel == 2325 or MyLevel <= 2349 then
            Mon = "Chocolate Bar Battler"
            LevelQuest = 2
            NameQuest = "ChocQuest1"
            CFrameQuest = CFrame.new(233, 29, -12201)
            CFrameMon = CFrame.new(582, 77, -12463)
        elseif MyLevel == 2350 or MyLevel <= 2374 then
            Mon = "Sweet Thief"
            LevelQuest = 1
            NameQuest = "ChocQuest2"
            CFrameQuest = CFrame.new(150, 30, -12774)
            CFrameMon = CFrame.new(165, 76, -12600)
        elseif MyLevel == 2375 or MyLevel <= 2399 then
            Mon = "Candy Rebel"
            LevelQuest = 2
            NameQuest = "ChocQuest2"
            CFrameQuest = CFrame.new(150, 30, -12774)
            CFrameMon = CFrame.new(134, 77, -12876)
        elseif MyLevel == 2400 or MyLevel <= 2424 then
            Mon = "Candy Pirate"
            LevelQuest = 1
            NameQuest = "CandyQuest1"
            CFrameQuest = CFrame.new(-1150, 20, -14446)
            CFrameMon = CFrame.new(-1310, 26, -14562)
        elseif MyLevel == 2425 or MyLevel <= 2449 then
            Mon = "Snow Demon"
            LevelQuest = 2
            NameQuest = "CandyQuest1"
            CFrameQuest = CFrame.new(-1150, 20, -14446)
            CFrameMon = CFrame.new(-880, 71, -14538)
        elseif MyLevel == 2450 or MyLevel <= 2474 then
            Mon = "Isle Outlaw"
            LevelQuest = 1
            NameQuest = "TikiQuest1"
            CFrameQuest = CFrame.new(-16547, 61, -173)
            CFrameMon = CFrame.new(-16442, 116, -264)
        elseif MyLevel == 2475 or MyLevel <= 2524 then
            Mon = "Island Boy"
            LevelQuest = 2
            NameQuest = "TikiQuest1"
            CFrameQuest = CFrame.new(-16547, 61, -173)
            CFrameMon = CFrame.new(-16901, 84, -192)
        elseif MyLevel == 2525 or MyLevel <= 2549 then
            Mon = "Isle Champion"
            LevelQuest = 2
            NameQuest = "TikiQuest2"
            CFrameQuest = CFrame.new(-16539, 55, 1051)
            CFrameMon = CFrame.new(-16641, 235, 1031)
        elseif MyLevel == 2550 or MyLevel <= 2574 then
            Mon = "Serpent Hunter"
            LevelQuest = 1
            NameQuest = "TikiQuest3"
            CFrameQuest = CFrame.new(-16661, 105, 1576)
            CFrameMon = CFrame.new(-16587, 154, 1533)
        elseif MyLevel >= 2575 then
            Mon = "Skull Slayer"
            LevelQuest = 2
            NameQuest = "TikiQuest3"
            CFrameQuest = CFrame.new(-16661, 105, 1576)
            CFrameMon = CFrame.new(-16885, 114, 1627)
        end
    end
end

function PopulateBossList()
    tableBoss = {}
    if game.PlaceId == 2753915549 then 
        tableBoss = {
            "The Gorilla King",
            "Bobby",
            "Yeti",
            "Mob Leader",
            "Vice Admiral",
            "Warden",
            "Chief Warden",
            "Swan",
            "Magma Admiral",
            "Fishman Lord",
            "Wysper",
            "Thunder God",
            "Cyborg",
            "Saber Expert"
        }
    elseif game.PlaceId == 79091703265657 then 
        tableBoss = {
            "Diamond",
            "Jeremy",
            "Fajita",
            "Don Swan",
            "Smoke Admiral",
            "Cursed Captain",
            "Darkbeard",
            "Order",
            "Awakened Ice Admiral",
            "Tide Keeper"
        }
    elseif game.PlaceId == 100117331123089 then 
        tableBoss = {
            "Stone",
            "Island Empress",
            "Kilo Admiral",
            "Captain Elephant",
            "Beautiful Pirate",
            "rip_indra True Form",
            "Longma",
            "Soul Reaper",
            "Cake Queen"
        }
    end
end

PopulateBossList()

spawn(function()
RunService.Stepped:Connect(function()
        if _G.Settings.Main["Auto Farm Boss"] or _G.Settings.Main["Auto Farm"] or _G.Settings.Main["Auto Farm All Bosses"] and LP.Character then
            local hrp = LP.Character:FindFirstChild("HumanoidRootPart")
            local hum = LP.Character:FindFirstChild("Humanoid")
            if hrp then
            LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            LP.Character.Humanoid.PlatformStand = false
            end
           
        end
end)
end)

spawn(function()
    while task.wait(0.1) do
        if _G.Settings.Combat["Kill Aura"] then
            pcall(function()
                if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
                    return
                end
                
                local Character = LP.Character
                local Selected = _G.Settings.Main["Select Weapon"]
                local ToolInHand = Character:FindFirstChildWhichIsA("Tool")
                

                local MyPos = Character.HumanoidRootPart.Position
                local Range = _G.Settings.Combat["Aura Range"] 
                local TargetMode = _G.Settings.Combat["Aura Target"]

                if TargetMode == "Mobs Only" or TargetMode == "All" then
                    for _, v in pairs(game.Workspace.Enemies:GetChildren()) do
                        if v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                            if (v.HumanoidRootPart.Position - MyPos).Magnitude <= Range then
                                Attack()
                            end
                        end
                    end
                end

                if TargetMode == "Players Only" or TargetMode == "All" then
                    for _, v in pairs(game.Players:GetChildren()) do
                        if v ~= LP and v.Character and v.Character:FindFirstChild("HumanoidRootPart") and v.Character.Humanoid.Health > 0 then
                            if (v.Character.HumanoidRootPart.Position - MyPos).Magnitude <= Range then
                                DamageUnit(v.Character)
                            end
                        end
                    end
                end
            end)
        end
    end
end)

spawn(function()
    while task.wait(0.5) do
        if _G.Settings.Main["Auto Farm"] or _G.Settings.Main["Auto Farm Boss"] or _G.Settings.Main["Auto Farm All Bosses"] then
            pcall(function()
                if not LP.Character then return end
                
                local Character = LP.Character
                if _G.Settings.Setting["Auto Haki"] and not Character:FindFirstChild("HasBuso") then
                    RS.Remotes.CommF_:InvokeServer("Buso")
                end
                
                local Selected = _G.Settings.Main["Select Weapon"]
                local ToolInHand = Character:FindFirstChildWhichIsA("Tool")
                
                if not ToolInHand or (not string.find(ToolInHand.ToolTip, Selected) and not string.find(ToolInHand.Name, Selected)) then
                    for _, v in pairs(LP.Backpack:GetChildren()) do
                        if v:IsA("Tool") and (string.find(v.ToolTip, Selected) or string.find(v.Name, Selected)) then
                            Character.Humanoid:EquipTool(v)
                            break
                        end
                    end
                end
            end)
        end
    end
end)

spawn(function()
    while task.wait(0.7) do
        if _G.Settings.Stats["Enabled"] then
            pcall(function()
                local Point = LP.Data.StatsPoints.Value
                if Point > 0 then
                    RS.Remotes.CommF_:InvokeServer("AddPoint", _G.Settings.Stats["Select Stat"], Point)
                end
            end)
        end
    end
end)

--- farm loop wowwwwwwww (extra w's)
spawn(function()
    while task.wait(0.5) do
        if _G.Settings.Setting["Bring Mob"] then
            pcall(function()
                sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", _G.Settings.Setting["Bring Mob Range"])
            end)
        end
    end
end)

spawn(function()
    RunService.Stepped:Connect(function()
        if _G.Settings.Main["Auto Farm"] and LP.Character then
            local hrp = LP.Character:FindFirstChild("HumanoidRootPart")
            if hrp then
                if not CurrentTween or CurrentTween.PlaybackState ~= Enum.PlaybackState.Playing then
                    LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                    LP.Character.Humanoid.PlatformStand = false
                end
            end
            
            if _G.Settings.Setting["Bring Mob"] and Mon then
                pcall(function()
                    local TargetMob = nil
                    
                    for _, v in pairs(game.Workspace.Enemies:GetChildren()) do
                        if v.Name == Mon and v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                            if not TargetMob then
                                TargetMob = v
                            end
                            
                            v.HumanoidRootPart.CFrame = TargetMob.HumanoidRootPart.CFrame
                            v.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                            v.HumanoidRootPart.CanCollide = false
                            v.Humanoid.WalkSpeed = 0
                            v.Humanoid.JumpPower = 0
                            v.Head.CanCollide = false
                            v.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                            
                            if v.Humanoid:FindFirstChild("Animator") then
                                v.Humanoid.Animator:Destroy()
                            end
                        end
                    end
                end)
            end
        end
    end)

    while wait(0.2) do
        if _G.Settings.Main["Auto Farm"] then
            pcall(function()
                CheckQuest()
                
                if not Mon or not NameQuest or not LevelQuest then
                    warn("Quest data not loaded")
                    return
                end
                
                local QuestTitle = LP.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text
                
                if not string.find(QuestTitle, Mon) then
                    RS.Remotes.CommF_:InvokeServer("AbandonQuest")
                end
                
                if LP.PlayerGui.Main.Quest.Visible == false then
                    topos(CFrameQuest)
                    if (LP.Character.HumanoidRootPart.Position - CFrameQuest.Position).Magnitude <= 5 then
                        RS.Remotes.CommF_:InvokeServer("StartQuest", NameQuest, LevelQuest)
                    end
                elseif LP.PlayerGui.Main.Quest.Visible == true then
                    if game.Workspace.Enemies:FindFirstChild(Mon) then
                        for i, v in pairs(game.Workspace.Enemies:GetChildren()) do
                            if v:FindFirstChild("HumanoidRootPart") and v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                                if v.Name == Mon then
                                    if string.find(LP.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, Mon) then
                                        repeat
                                            task.wait()
                                            
                                            local Pos = CFrame.new(0, _G.Settings.Setting["Farm Distance"], 0)
                                            topos(v.HumanoidRootPart.CFrame * Pos)
                                            
                                            v.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
                                            v.HumanoidRootPart.CanCollide = false
                                            v.Humanoid.WalkSpeed = 0
                                            v.Humanoid.JumpPower = 0
                                            v.Head.CanCollide = false
                                            v.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                                            v.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                                            
                                            if _G.Settings.Setting["Bring Mob"] then
                                                for _, mob in pairs(game.Workspace.Enemies:GetChildren()) do
                                                    if mob.Name == Mon and mob ~= v and mob:FindFirstChild("HumanoidRootPart") and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
                                                        mob.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
                                                        mob.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                                                        mob.HumanoidRootPart.CanCollide = false
                                                        mob.Humanoid.WalkSpeed = 0
                                                        mob.Humanoid.JumpPower = 0
                                                        mob.Head.CanCollide = false
                                                        mob.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                                                        
                                                        if mob.Humanoid:FindFirstChild("Animator") then
                                                            mob.Humanoid.Animator:Destroy()
                                                        end
                                                    end
                                                end
                                            end
                                            
                                            Attack()
                                        until not _G.Settings.Main["Auto Farm"] 
                                            or v.Humanoid.Health <= 0 
                                            or not v.Parent 
                                            or LP.PlayerGui.Main.Quest.Visible == false
                                    end
                                end
                            end
                        end
                    else
                        topos(CFrameMon)
                    end
                end
            end)
        end
    end
end)

spawn(function()

RunService.Stepped:Connect(function()
        if _G.Settings.Main["Auto Farm Boss"] and LP.Character then
            local hrp = LP.Character:FindFirstChild("HumanoidRootPart")
            local hum = LP.Character:FindFirstChild("Humanoid")
            if hrp then
            LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            LP.Character.Humanoid.PlatformStand = false
            end
           
        end
end)

    while task.wait(0.2) do
        if _G.Settings.Main["Auto Farm Boss"] then
            pcall(function()
                if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
                    return
                end
                
                local SelectedBoss = _G.Settings.Main["Select Boss"]
                
                if game:GetService("Workspace").Enemies:FindFirstChild(SelectedBoss) then
                    for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                        if v.Name == SelectedBoss then
                            if v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                                repeat
                                    task.wait()
                                    
                                    if not _G.Settings.Main["Auto Farm Boss"] then break end
                                    
                                    v.HumanoidRootPart.CanCollide = false
                                    v.Humanoid.WalkSpeed = 0
                                    v.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                                    
                                    local targetCF = v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 0)
                                    topos(targetCF)
                                    
                                    LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                                    LP.Character.Humanoid.PlatformStand = true
                                    
                                    DamageUnit(v)
                                    
                                until not _G.Settings.Main["Auto Farm Boss"] or not v.Parent or v.Humanoid.Health <= 0 or not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart")
                                
                                if LP.Character and LP.Character:FindFirstChild("Humanoid") then
                                    LP.Character.Humanoid.PlatformStand = false
                                end
                            end
                        end
                    end
                elseif game:GetService("ReplicatedStorage"):FindFirstChild(SelectedBoss) then
                    local bossModel = game:GetService("ReplicatedStorage"):FindFirstChild(SelectedBoss)
                    if bossModel:FindFirstChild("HumanoidRootPart") then
                        topos(bossModel.HumanoidRootPart.CFrame * CFrame.new(0, 10, 5))
                    end
                end
            end)
        end
    end
end)

spawn(function()
RunService.Stepped:Connect(function()
        if _G.Settings.Main["Auto Farm All Bosses"] and LP.Character then
            local hrp = LP.Character:FindFirstChild("HumanoidRootPart")
            local hum = LP.Character:FindFirstChild("Humanoid")
            if hrp then
            LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            LP.Character.Humanoid.PlatformStand = false
            end
           
        end
end)
    while task.wait(0.2) do
        if _G.Settings.Main["Auto Farm All Bosses"] then
            pcall(function()
                if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
                    return
                end
                
                for i, boss in pairs(tableBoss) do
                    if game:GetService("Workspace").Enemies:FindFirstChild(boss) then
                        for i, v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
                            if v.Name == boss then
                                if v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 then
                                    repeat
                                        task.wait()
                                        
                                        if not _G.Settings.Main["Auto Farm All Bosses"] then break end
                                        
                                        v.HumanoidRootPart.CanCollide = false
                                        v.Humanoid.WalkSpeed = 0
                                        v.HumanoidRootPart.Size = Vector3.new(60, 60, 60)
                                        
                                        local targetCF = v.HumanoidRootPart.CFrame * CFrame.new(0, 30, 0)
                                        topos(targetCF)
                                        
                                        LP.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
                                        LP.Character.Humanoid.PlatformStand = true
                                        
                                        DamageUnit(v)
                                        
                                    until not _G.Settings.Main["Auto Farm All Bosses"] or not v.Parent or v.Humanoid.Health <= 0 or not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart")
                                    
                                    if LP.Character and LP.Character:FindFirstChild("Humanoid") then
                                        LP.Character.Humanoid.PlatformStand = false
                                    end
                                end
                            end
                        end
                        break
                    elseif game:GetService("ReplicatedStorage"):FindFirstChild(boss) then
                        local bossModel = game:GetService("ReplicatedStorage"):FindFirstChild(boss)
                        if bossModel:FindFirstChild("HumanoidRootPart") then
                            topos(bossModel.HumanoidRootPart.CFrame * CFrame.new(0, 10, 5))
                            task.wait(0.5)
                        end
                        break
                    end
                end
            end)
        end
    end
end)

spawn(function()
    while task.wait() do
        if _G.Settings.Main["Chest Farm"] and _G.Settings.Main["Chest Farm Mode"] == "Tween" then
            pcall(function()
                local NearestChest = GetNearestChest()
                
                if NearestChest then
                    local ChestCFrame = NearestChest:IsA("Model") and (NearestChest:FindFirstChild("RootPart") and NearestChest.RootPart.CFrame or NearestChest:FindFirstChild("Root") and NearestChest.Root.CFrame or NearestChest:GetModelCFrame()) or NearestChest.CFrame
                    
                    TweenToChest(ChestCFrame)
                    BlacklistChest(NearestChest)
                    task.wait(0.5) 
                else
                    task.wait(2) 
                end
            end)
        end
    end
end)

spawn(function()
    while task.wait(0.15) do
        if _G.Settings.Main["Chest Farm"] and _G.Settings.Main["Chest Farm Mode"] == "Instant" then
            pcall(function()
                if not LP.Character or not LP.Character:FindFirstChild("HumanoidRootPart") then
                    return
                end
                
                local NearestChest = GetNearestChest()
                
                if NearestChest then
                    local ChestCFrame = NearestChest:IsA("Model") and (NearestChest:FindFirstChild("RootPart") and NearestChest.RootPart.CFrame or NearestChest:FindFirstChild("Root") and NearestChest.Root.CFrame or NearestChest:GetModelCFrame()) or NearestChest.CFrame
                    
                    LP.Character.HumanoidRootPart.CFrame = ChestCFrame
                    BlacklistChest(NearestChest)
                else
                    task.wait(2) 
                end
            end)
        end
    end
end)

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local VirtualInputManager = game:GetService("VirtualInputManager")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")
local camera = workspace.CurrentCamera

local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Parent = playerGui

local button = Instance.new("TextButton")
button.Size = UDim2.fromOffset(60, 60)
button.Position = UDim2.fromOffset(20, 20)
button.BackgroundTransparency = 0.3
button.BackgroundColor3 = Color3.fromRGB(45, 45, 48)
button.BorderSizePixel = 0
button.Text = "F"
button.TextColor3 = Color3.new(1, 1, 1)
button.TextSize = 24
button.Font = Enum.Font.GothamBold
button.Parent = gui

Instance.new("UICorner", button).CornerRadius = UDim.new(1, 0)

local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(76, 76, 76)
stroke.Thickness = 2
stroke.Parent = button

local scale = Instance.new("UIScale")
scale.Parent = button

local function updateScale()
	local v = camera.ViewportSize
	scale.Scale = math.clamp(math.min(v.X, v.Y) / 720, 0.75, 1.25)
end

updateScale()
camera:GetPropertyChangedSignal("ViewportSize"):Connect(updateScale)

local dragging = false
local dragInput = nil
local dragStart
local startPos
local moved = false
local originalSize = button.Size

local function clamp(pos)
	local v = camera.ViewportSize
	local s = button.AbsoluteSize
	return UDim2.fromOffset(
		math.clamp(pos.X.Offset, 0, v.X - s.X),
		math.clamp(pos.Y.Offset, 0, v.Y - s.Y)
	)
end

button.InputBegan:Connect(function(input)
	if dragging then return end
	if input.UserInputType ~= Enum.UserInputType.Touch
	and input.UserInputType ~= Enum.UserInputType.MouseButton1 then return end

	dragging = true
	dragInput = input
	dragStart = input.Position
	startPos = button.Position
	moved = false

	TweenService:Create(
		button,
		TweenInfo.new(0.15, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
		{Size = UDim2.fromOffset(50, 50)}
	):Play()
end)

UserInputService.InputChanged:Connect(function(input)
	if not dragging then return end
	if input ~= dragInput then return end

	local delta = input.Position - dragStart
	moved = delta.Magnitude > 5

	button.Position = clamp(UDim2.fromOffset(
		startPos.X.Offset + delta.X,
		startPos.Y.Offset + delta.Y
	))
end)

UserInputService.InputEnded:Connect(function(input)
	if input ~= dragInput then return end

	dragging = false
	dragInput = nil

	TweenService:Create(
		button,
		TweenInfo.new(0.15, Enum.EasingStyle.Back, Enum.EasingDirection.Out),
		{Size = originalSize}
	):Play()

	if not moved then
		VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.LeftControl, false, game)
		task.delay(0.15, function()
			VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.LeftControl, false, game)
		end)
	end
end)

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "home" }),
    Combat = Window:AddTab({ Title = "Combat", Icon = "sword" }),
    Raid = Window:AddTab({ Title = "Raid", Icon = "factory" }),
    Dungeons = Window:AddTab({ Title = "Dungeons", Icon = "skull" }),
    Shop = Window:AddTab({ Title = "Shop", Icon = "shopping-cart" }),
    Stats = Window:AddTab({ Title = "Stats", Icon = "bar-chart" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" }),
    MiscTab = Window:AddTab({ Title = "Misc", Icon = "package" }),
    Info = Window:AddTab({ Title = "Info", Icon = "info" }) --- Always last pls ;p
}

local StatusParagraph = Tabs.Main:AddParagraph({
    Title = "Status Tracker",
    Content = "Status: ???\nTime Played: 00:00:00\nState: Idle"
})

Tabs.Main:AddSection("Auto Farming")

Tabs.Main:AddToggle("AutoFarm", {
    Title = "Auto Farm Levels",
    Default = false,
    Callback = function(Value)
        _G.Settings.Main["Auto Farm"] = Value
        if not Value and CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
    end
})

Tabs.Main:AddDropdown("SelectWeapon", {
    Title = "Select Weapon",
    Values = {"Melee", "Sword", "Fruit"},
    Multi = false,
    Default = "Melee",
    Callback = function(Value)
        _G.Settings.Main["Select Weapon"] = Value
    end
})

Tabs.Shop:AddSection("Sword Section")


Tabs.Shop:AddButton({
    Title = "Buy Cutlass",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Cutlass")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Katana",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Katana")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Iron Mace",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Iron Mace")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Dual Katana",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Dual Katana")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Triple Katana",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Triple Katana")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Pipe",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Pipe")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Bisento",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Bisento")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Dual-Headed Blade",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Dual-Headed Blade")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Soul Cane",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyItem", "Soul Cane")
    end
})

Tabs.Shop:AddSection("Skill Section")


Tabs.Shop:AddButton({
    Title = "Buy Aura",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyHaki", "Haki")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Sky Jump",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyHaki", "Geppo")
    end
})

Tabs.Shop:AddButton({
    Title = "Buy Flash Step",
    Callback = function()
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("BuyHaki", "Soru")
    end
})



Tabs.Raid:AddParagraph({
    Title = "Not Added :(",
    Content = "This feature is not added yet <3"
})

Tabs.Dungeons:AddParagraph({
    Title = "Not Added :(",
    Content = "This feature is not added yet <3"
})


Tabs.Main:AddSection("Boss Related")


Tabs.Main:AddToggle("AutoFarmBoss", {
    Title = "Auto Boss Farm",
    Default = false,
    Callback = function(Value)
        _G.Settings.Main["Auto Farm Boss"] = Value
        if not Value and CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
    end
})



Tabs.Main:AddToggle("AutoFarmAllBosses", {
    Title = "Auto Farm All Bosses",
    Default = false,
    Callback = function(Value)
        _G.Settings.Main["Auto Farm All Bosses"] = Value
        if not Value and CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
    end
})

_G.UIElements.SelectBoss = Tabs.Main:AddDropdown("SelectBoss", {
    Title = "Select Boss",
    Values = tableBoss,
    Multi = false,
    Default = #tableBoss > 0 and tableBoss[1] or "None",
    Callback = function(Value)
        _G.Settings.Main["Select Boss"] = Value
    end
})

Tabs.Main:AddSection("Chest Related")


Tabs.Main:AddToggle("ChestFarm", {
    Title = "Chest Farm",
    Default = false,
    Callback = function(Value)
        _G.Settings.Main["Chest Farm"] = Value
        if not Value and CurrentTween then
            CurrentTween:Cancel()
            CurrentTween = nil
        end
    end
})

Tabs.Main:AddDropdown("SelectChestMode", {
    Title = "Select Mode",
    Values = {"Tween", "Instant"},
    Multi = false,
    Default = "Tween",
    Callback = function(Value)
        _G.Settings.Main["Chest Farm Mode"] = Value
    end
})

Tabs.Combat:AddSection("Kill Aura Related")

Tabs.Combat:AddToggle("KillAura", {
    Title = "Kill Aura",
    Default = true,
    Callback = function(Value)
        _G.Settings.Combat["Kill Aura"] = Value
    end
})

Tabs.Combat:AddDropdown("AuraTarget", {
    Title = "Aura Target",
    Values = {"Mobs Only", "Players Only", "All"},
    Multi = false,
    Default = "All",
    Callback = function(Value)
        _G.Settings.Combat["Aura Target"] = Value
    end
})

Tabs.Combat:AddSlider("AuraRange", {
    Title = "Aura Range",
    Description = "Distance for Kill Aura",
    Default = 60,
    Min = 10,
    Max = 60,
    Rounding = 0,
    Callback = function(Value)
        _G.Settings.Combat["Aura Range"] = Value
    end
})


_G.SelectedStat = "Melee"
_G.AutoStats = false


Tabs.Stats:AddDropdown("SelectStat", {
    Title = "Pick Stat",
    Values = {"Melee", "Defense", "Sword", "Gun", "Demon Fruit"},
    Multi = false,
    Default = "Melee",
    Callback = function(Value)
        _G.SelectedStat = Value
    end
})


Tabs.Stats:AddToggle("AutoStats", {
    Title = "Auto Stats",
    Default = false,
    Callback = function(Value)
        _G.AutoStats = Value
        
        if Value then
            task.spawn(function()
                while _G.AutoStats do
                    task.wait(0.2)
                    
                    pcall(function()
                        
                        local TargetStat = _G.SelectedStat
                        if TargetStat == "Demon Fruit" then 
                            TargetStat = "Blox Fruit" 
                        end
                        
                        
                        local Points = game.Players.LocalPlayer.Data:FindFirstChild("Points") or 
                                       game.Players.LocalPlayer.Data:FindFirstChild("StatsPoints")
                        
                        
                        if Points and Points.Value > 0 then
                            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("AddPoint", TargetStat, 3)
                        end
                    end)
                end
            end)
        end
    end
})

Tabs.Settings:AddSection("Game Settings")
Tabs.Settings:AddSlider("TweenSpeed", {
    Title = "Tween Speed",
    Description = "Control your tween speed",
    Default = 300,
    Min = 100,
    Max = 300,
    Rounding = 0,
    Callback = function(Value)
        _G.Settings.Setting["Tween Speed"] = Value
    end
})

Tabs.Settings:AddToggle("AutoHaki", {
    Title = "Auto Haki",
    Default = true,
    Callback = function(Value)
        _G.Settings.Setting["Auto Haki"] = Value
    end
})

Tabs.Settings:AddToggle("BringMob", {
    Title = "Bring Mob",
    Default = true,
    Callback = function(Value)
        _G.Settings.Setting["Bring Mob"] = Value
    end
})

Tabs.Settings:AddSlider("BringMobRange", {
    Title = "Bring Mob Range",
    Description = "Distance to bring mobs",
    Default = 300,
    Min = 100,
    Max = 300,
    Rounding = 0,
    Callback = function(Value)
        _G.Settings.Setting["Bring Mob Range"] = Value
    end
})

_G.AntiAFK = false

Tabs.MiscTab:AddToggle("AntiAFK", {
    Title = "Anti-AFK",
    Default = true,
    Callback = function(Value)
       _G.AntiAFK = Value
    end
})

Tabs.MiscTab:AddButton({
    Title = "Join Marines",
    Description = "Join The Marines Team",
    Callback = function()
        local args = { [1] = "SetTeam", [2] = "Marines" }
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        
        Fluent:Notify({
            Title = "Team Changed",
            Content = "You have joined the Marines!",
            Duration = 3
        })
    end
})

Tabs.MiscTab:AddButton({
    Title = "Join Pirates",
    Description = "Join The Pirates Team",
    Callback = function()
        local args = { [1] = "SetTeam", [2] = "Pirates" }
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
        
        Fluent:Notify({
            Title = "Team Changed",
            Content = "You have joined the Pirates!",
            Duration = 3
        })
    end
})

LP.Idled:Connect(function()
    if _G.AntiAFK then
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end
end)

Tabs.Info:AddParagraph({
    Title = "Script Information",
    Content = "Dev: @RealFreakxNil\nVersion: BETA 1.0.7\nLibrary: Fluent (Stable UI)\n\nChangelog:\n+ Tween cancellation on toggle off\n+ Death detection (auto-restart)\n+ Complete Third Sea levels (2575+)\n+ Fixed Outdated Quests\n+ Added BringMob\n+ Added Shop\n+ Anti Cheat Bypass"
})

local function updateStatusDisplay()
    local statusIcon = errorCount > 0 and "" or ""
    local errorText = errorCount > 0 and " (Errors: " .. errorCount .. ")" or ""
    
    local elapsed = tick() - startTime
    local hours = math.floor(elapsed / 3600)
    local minutes = math.floor((elapsed % 3600) / 60)
    local seconds = math.floor(elapsed % 60)
    local timePlayed = string.format("%02d:%02d:%02d", hours, minutes, seconds)
    
    local activeStates = {}
    if _G.Settings.Main["Auto Farm"] then table.insert(activeStates, "Auto Farming") end
    if _G.Settings.Main["Auto Farm Boss"] then table.insert(activeStates, "Auto Farming Bosses") end
    if _G.Settings.Main["Auto Farm All Bosses"] then table.insert(activeStates, "Auto Farming All Bosses") end
    if _G.Settings.Main["Chest Farm"] then table.insert(activeStates, "Chest Farming") end
    if _G.Settings.Combat["Kill Aura"] then table.insert(activeStates, "Kill Aura") end
    if _G.Settings.Stats["Enabled"] then table.insert(activeStates, "Auto Stats") end
    
    local stateText = #activeStates > 0 and table.concat(activeStates, ", ") or "Idle"
    
    pcall(function()
        StatusParagraph:SetDesc("Status: " .. statusIcon .. errorText .. "\nTime Played: " .. timePlayed .. "\nState: " .. stateText)
    end)
end

spawn(function()
    while task.wait(1) do
        updateStatusDisplay()
    end
end)

spawn(function()
	repeat
		task.wait();
	until game:IsLoaded();
	local ChatService = game:GetService("Chat");
	wait(1);
	((require(game.ReplicatedStorage.Notification)).new("<Color=Purple>[ Welcome " .. game.Players.LocalPlayer.DisplayName .. " ]<Color=/>")):Display();
	wait(1);
	((require(game.ReplicatedStorage.Notification)).new("<Color=Yellow>[ Sub 2 @RealFreakxNil on YT! ]<Color=/>")):Display();
end);

SaveManager:SetLibrary(Fluent)
SaveManager:SetFolder("FunnyFreak228Hub/configs")
InterfaceManager:SetLibrary(Fluent)
InterfaceManager:SetFolder("FunnyFreak228Hub")
SaveManager:BuildConfigSection(Tabs.Settings)
InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:SetIgnoreIndexes({})
task.spawn(function()
    wait(1)
    SaveManager:LoadAutoloadConfig()
end)
Window:SelectTab(1)
